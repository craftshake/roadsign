/**
 * jQuery "splendid textchange" plugin
 * http://benalpert.com/2013/06/18/a-near-perfect-oninput-shim-for-ie-8-and-9.html
 *
 * (c) 2013 Ben Alpert, released under the MIT license
 */
(function(e){var t=document.createElement("input");var n="oninput"in t&&(!("documentMode"in document)||document.documentMode>9);var r=function(e){return e.nodeName==="INPUT"&&(e.type==="text"||e.type==="password")};var i=null;var s=null;var o=null;var u={get:function(){return o.get.call(this)},set:function(e){s=e;o.set.call(this,e)}};var a=function(e){i=e;s=e.value;o=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value");Object.defineProperty(i,"value",u);i.attachEvent("onpropertychange",l)};var f=function(){if(!i)return;delete i.value;i.detachEvent("onpropertychange",l);i=null;s=null;o=null};var l=function(t){if(t.propertyName!=="value")return;var n=t.srcElement.value;if(n===s)return;s=n;e(i).trigger("textchange")};if(n){e(document).on("input",function(t){if(t.target.nodeName!=="TEXTAREA"){e(t.target).trigger("textchange")}})}else{e(document).on("focusin",function(e){if(r(e.target)){f();a(e.target)}}).on("focusout",function(){f()}).on("selectionchange keyup keydown",function(){if(i&&i.value!==s){s=i.value;e(i).trigger("textchange")}})}})(jQuery)
